<!DOCTYPE html>

<html lang="de">
<head>

  <!-- ======== Für die Basispage ======= -->

  <meta charset="UTF-8">
  <meta name="author" content="Sebastian Braun  549301"/>

  <title>Overlays</title>

  <!-- ======= Für mobile Geräte =======  -->

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">

  <!-- ======= CSS ======= -->

  <link rel="stylesheet" href="css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="css/grid.css" type="text/css" media="all">
  <link rel="stylesheet" href="css/layout.css" type="text/css" media="all">

  <!-- ======= Google Fonts ====== -->

  <link href='https://fonts.googleapis.com/css?family=Oswald:400,300,700' rel='stylesheet' type='text/css'>


</head>
<!-- Ende Headbereich -->
<body>


  <button type="button" onclick="updateTable()">DEBUG</button>
  <p id="eid_date">時刻を表示します。</p>


  <script>

  //setInterval("updateTable()", 1000);

  Object.defineProperty(this, 'updateTable', {
    enumerable: false,
    configurable: false,
    value: async function() {

      console.log("hello updateTable()");

      let highScoreTop3 = document.getElementById("highScoreTop3");
      let top1Name = highScoreTop3.rows[0].cells[1].firstChild;
      let top1Score = highScoreTop3.rows[0].cells[2].firstChild;
      let top2Name = highScoreTop3.rows[1].cells[1].firstChild;
      let top2Score = highScoreTop3.rows[1].cells[2].firstChild;
      let top3Name = highScoreTop3.rows[2].cells[1].firstChild;
      let top3Score = highScoreTop3.rows[2].cells[2].firstChild;

      console.log(top1Name.innerHTML);
      console.log(top1Score.innerHTML);

      let highScore10 = document.getElementById("highScore10");

      while(0<highScore10.rows.length){  //delete all rows
        highScore10.deleteRow(0);
      }

      //fetch top score json from server
      try {
        const result = await this.getTopScores();
        console.log(result);

        top1Name.innerHTML = result[0].player;
        top1Score.innerHTML = result[0].score;
        top2Name.innerHTML = result[1].player;
        top2Score.innerHTML = result[1].score;
        top3Name.innerHTML = result[2].player;
        top3Score.innerHTML = result[2].score;

        for(var i=3; i<10; i++){
          // add new row
          let highScore10Row = highScore10.insertRow(-1);

          const thLeft = document.createElement('th');
          const h3Left = document.createElement('h3');
          h3Left.className = "left padding";
          h3Left.innerHTML = (i+1) + ".";
          thLeft.appendChild(h3Left);
          highScore10Row.appendChild(thLeft);

          const thCenter = document.createElement('th');
          const h3Center = document.createElement('h3');
          h3Center.className = "left padding padding-left";
          h3Center.innerHTML = "player name here";
          thCenter.appendChild(h3Center);
          highScore10Row.appendChild(thCenter);

          const thRight = document.createElement('th');
          const h3Right = document.createElement('h3');
          h3Right.className = "right padding";
          h3Right.innerHTML = "777";
          thRight.appendChild(h3Right);
          highScore10Row.appendChild(thRight);
        }


      } catch (error) {
        console.log(error);
      }
    }
  });


  Object.defineProperty(this, 'getTopScores', {
    enumerable: false,
    configurable: false,
    value: async function() {

      console.log("hello getTopScores");
      const resource = "/scores_desc";

      let response = await fetch(resource, { method: 'GET', headers: {"Accept": "application/json"} } );
      if (!response.ok) throw new Error(response.status + ' ' + response.statusText);

      const result = await response.json();
      return result;
    }
  });

  </script>


  <!-- Header -->
  <header id="header" class="shadow1">

    <h1 class="hidden">Overlays Reloaded</h1>
    <h2 class="hidden">Highscoreseite für Overlays reloaded</h2>
    <section class="container">
      <h2 class="hidden">Wir befinden uns im Bereich Logo und Navigation</h2>
      <!-- Logo & Hauptnavigation -->
      <!--<section class="logo"><a href="index.html"><img src="images/logo_no_glow.png"-->
      <!--alt="Logo von overlays reloaded"/></a>-->
      <!--<h2 class="hidden">Hier ist der Logobereich</h2>-->
      <!--</section>-->
      <!--<section class="mainmenu">-->
      <!--<h2 class="hidden">Hier beginnt das Menü</h2>-->
      <!--<nav id='menu'>-->
      <!--<ul>-->
      <!--<li><a href="index.html">Home</a></li>-->
      <!--<li><a href="about.html">Über uns</a></li>-->
      <!--&lt;!&ndash;<li class='submenu'><a href="#">Wissenswertes</a>&ndash;&gt;-->
      <!--&lt;!&ndash;<ul>&ndash;&gt;-->
      <!--&lt;!&ndash;<li class='submenu'><a href='html.html'><span>HTML5</span></a></li>&ndash;&gt;-->
      <!--&lt;!&ndash;<li class='submenu'><a href='css.html'><span>CSS3</span></a></li>&ndash;&gt;-->
      <!--&lt;!&ndash;<li class='submenu'><a href='javas.html'><span>Javascript</span></a></li>&ndash;&gt;-->
      <!--&lt;!&ndash;</ul>&ndash;&gt;-->
      <!--&lt;!&ndash;</li>&ndash;&gt;-->
      <!--<li class='last'><a href='contact.html'><span>Kontakt</span></a></li>-->
      <!--</ul>-->
      <!--</nav>-->
      <!--&lt;!&ndash; Ende Hauptnavigation &ndash;&gt;-->
      <!--</section>-->
    </section>
    <!-- Ende Container -->

    <!-- Responsive Menu -->
    <!--<form id="responsive-menu" action="#" method="post">-->
    <!--<select>-->
    <!--<option value="">Navigation</option>-->
    <!--<option value="index.html">Home</option>-->
    <!--<option value="about.html">About</option>-->
    <!--<option value="contact.html">Kontakt</option>-->
    <!--</select>-->
    <!--</form>-->
  </header>
  <!-- Ende Header -->


  <!-- Beginn Infobox -->
  <section class="info">
    <div id="particles-js"></div>

    <h2 class="hidden">Kurzer Infobereich der Webseite</h2>

    <div class="container info minus-margin">
      <header>
        <h1 class="white">OVERLAYS HIGHSCORE</h1>

      </header>
      <hr class="separator">
    </div>
    <!-- Ende Container -->
  </section>
  <!-- Ende Infobox -->

  <section class="container fields">
    <div class="one_half">
      <h2 class="hidden">Erste Box in der Mitte der Webseite mit den Highscores von Overlays</h2>
      <div>
        <figure class="shadow">
          <figcaption>
            <caption><h2 class="padding-top">Top Scores</h2></caption>
            <hr class="separatorDark">
            <table style="width:100%" id="highScoreTop3">
              <tr>
                <th>
                  <img class="left padding" src="images/crown_70px.png" alt="image der goldenen Krone"/>
                </th>
                <th><h3 class="left padding" id="testH">Jimmy kann nix richtig</h3></th>
                <th><h3 class="right padding">1082</h3></th>
              </tr>
              <tr>
                <th>
                  <img class="left padding" src="images/silver_crown_70px.png" alt="image der silbernen Krone"/>
                </th>
                <td><h3 class="left padding">Jill</h3></td>
                <td><h3 class="right padding">1061</h3></td>
              </tr>
              <tr>
                <th>
                  <img class="left padding" src="images/bronze_crown_70px.png" alt="image der bronzenen Krone"/>
                </th>
                <td><h3 class="left padding">Eve</h3></td>
                <td><h3 class="right padding">1001</h3></td>
              </tr>
            </table>
            <hr class="separatorDark">


            <table style="width:100%" id="highScore10">
            </table>

            <!--
            <table style="width:100%" >
            <tr>
            <th>
            <h3 class="left padding">4.</h3>
          </th>
          <th><h3 class="left padding padding-left">Jimmy der coole ist uncool</h3></th>
          <th><h3 class="right padding">82</h3></th>
        </tr>
        <tr>
        <th>
        <h3 class="left padding">5.</h3>
      </th>
      <td><h3 class="left padding padding-left">Jill</h3></td>
      <td><h3 class="right padding">61</h3></td>
    </tr>
    <tr>
    <th>
    <h3 class="left padding">6.</h3>
  </th>
  <td><h3 class="left padding padding-left"> Eve</h3></td>
  <td><h3 class="right padding">21</h3></td>
</tr>
<th>
<h3 class="left padding">7.</h3>
</th>
<th><h3 class="left padding padding-left"> Jimmy</h3></th>
<th><h3 class="right padding">82</h3></th>
</tr>
<tr>
<th>
<h3 class="left padding">8.</h3>
</th>
<td><h3 class="left padding padding-left">Jill</h3></td>
<td><h3 class="right padding">61</h3></td>
</tr>
<tr>
<th>
<h3 class="left padding">9.</h3>
</th>
<td><h3 class="left padding padding-left"> Eve</h3></td>
<td><h3 class="right padding">21</h3></td>
</tr>
<tr>
<th>
<h3 class="left padding">10.</h3>
</th>
<td><h3 class="left padding padding-left"> Eve</h3></td>
<td><h3 class="right padding">21</h3></td>
</tr>
</table>
-->

<details>
  <summary class="downArrow bounce list-style"><img width="40" height="40" alt="arrow icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjMycHgiIGlkPSLQodC70L7QuV8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMycHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxwYXRoIGQ9Ik0yNC4yODUsMTEuMjg0TDE2LDE5LjU3MWwtOC4yODUtOC4yODhjLTAuMzk1LTAuMzk1LTEuMDM0LTAuMzk1LTEuNDI5LDAgIGMtMC4zOTQsMC4zOTUtMC4zOTQsMS4wMzUsMCwxLjQzbDguOTk5LDkuMDAybDAsMGwwLDBjMC4zOTQsMC4zOTUsMS4wMzQsMC4zOTUsMS40MjgsMGw4Ljk5OS05LjAwMiAgYzAuMzk0LTAuMzk1LDAuMzk0LTEuMDM2LDAtMS40MzFDMjUuMzE5LDEwLjg4OSwyNC42NzksMTAuODg5LDI0LjI4NSwxMS4yODR6IiBmaWxsPSIjMTIxMzEzIiBpZD0iRXhwYW5kX01vcmUiLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48L3N2Zz4=" /></summary>
  <table style="width:100%">
    <th>
      <h3 class="left padding">4.</h3>
    </th>
    <th><h3 class="left padding padding-left">Jimmy der coole ist uncool</h3></th>
    <th><h3 class="right padding">1082</h3></th>
  </tr>
</table>
</details>
</figcaption>
</figure>
</div>
</div>
<div class="one_half">
  <h2 class="hidden">Erste Box in der Mitte der Webseite mit den Highscores von Overlays</h2>
  <div>
    <figure class="shadow">
      <figcaption>
        <caption><h2 class="padding-top">Newest Scores</h2></caption>
        <hr class="separatorDark">
        <table style="width:100%" class="margin-top">
          <tr>
            <th>
              <h3 class="left padding">22.</h3>
            </th>
            <th><h3 class="left padding  padding-left">Jimmy der coole ist uncool</h3></th>
            <th><h3 class="right padding">1082</h3></th>
          </tr>
          <tr>
            <th style="padding-top: 7%">
              <h3 class="left padding">23.</h3>
            </th>
            <th><h3 class="left padding padding-left">Jimmy</h3></th>
            <th><h3 class="right padding">1082</h3></th>
          </tr>
          <tr>
            <th style="padding-top: 6%">
              <h3 class="left padding">24.</h3>
            </th>
            <th><h3 class="left padding padding-left">Jimmy</h3></th>
            <th><h3 class="right padding">1082</h3></th>
          </tr>
        </table>
        <hr class="separatorDark">
        <table style="width:100%">
          <th>
            <h3 class="left padding">4.</h3>
          </th>
          <th><h3 class="left padding padding-left"> Jimmy der coole ist uncool</h3></th>
          <th><h3 class="right padding padding-left">82</h3></th>
        </tr>
        <tr>
          <th>
            <h3 class="left padding">5.</h3>
          </th>
          <td><h3 class="left padding padding-left">Jill</h3></td>
          <td><h3 class="right padding padding-left">61</h3></td>
        </tr>
        <tr>
          <th>
            <h3 class="left padding">6.</h3>
          </th>
          <td><h3 class="left padding padding-left"> Eve</h3></td>
          <td><h3 class="right padding padding-left">21</h3></td>
        </tr>
        <th>
          <h3 class="left padding">7.</h3>
        </th>
        <th><h3 class="left padding padding-left"> Jimmy</h3></th>
        <th><h3 class="right padding">82</h3></th>
      </tr>
      <tr>
        <th>
          <h3 class="left padding">8.</h3>
        </th>
        <td><h3 class="left padding padding-left">Jill</h3></td>
        <td><h3 class="right padding">61</h3></td>
      </tr>
      <tr>
        <th>
          <h3 class="left padding">9.</h3>
        </th>
        <td><h3 class="left padding padding-left"> Eve</h3></td>
        <td><h3 class="right padding">21</h3></td>
      </tr>
      <tr>
        <th>
          <h3 class="left padding">10.</h3>
        </th>
        <td><h3 class="left padding padding-left"> Eve</h3></td>
        <td><h3 class="right padding">21</h3></td>
      </tr>
    </table>
    <details>
      <summary class="downArrow bounce list-style"><img width="40" height="40" alt="arrow icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjMycHgiIGlkPSLQodC70L7QuV8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMycHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxwYXRoIGQ9Ik0yNC4yODUsMTEuMjg0TDE2LDE5LjU3MWwtOC4yODUtOC4yODhjLTAuMzk1LTAuMzk1LTEuMDM0LTAuMzk1LTEuNDI5LDAgIGMtMC4zOTQsMC4zOTUtMC4zOTQsMS4wMzUsMCwxLjQzbDguOTk5LDkuMDAybDAsMGwwLDBjMC4zOTQsMC4zOTUsMS4wMzQsMC4zOTUsMS40MjgsMGw4Ljk5OS05LjAwMiAgYzAuMzk0LTAuMzk1LDAuMzk0LTEuMDM2LDAtMS40MzFDMjUuMzE5LDEwLjg4OSwyNC42NzksMTAuODg5LDI0LjI4NSwxMS4yODR6IiBmaWxsPSIjMTIxMzEzIiBpZD0iRXhwYW5kX01vcmUiLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48L3N2Zz4=" /></summary>
      <table style="width:100%">
        <th>
          <h3 class="left padding">4.</h3>
        </th>
        <th><h3 class="left padding padding-left">Jimmy der coole ist uncool</h3></th>
        <th><h3 class="right padding">1082</h3></th>
      </tr>
    </table>
  </details>
</figcaption>
</figure>
</div>
</div>
</section>
<!-- end container -->

<!-- Footer  -->
<section class="footer">
  <h2 class="hidden">Hier finden wir den Fußbereich</h2>
  <section class="container">
    <h2 class="hidden">Hier befinden Kontaktdaten unserer Firma </h2>

    <a href="about.html"> about us</a>
    <!--<section class="one_third">-->
    <!--<h3>Kontaktinformationen</h3>-->
    <!--<p><span class="cyan"><strong>Addresse:</strong></span> <br>-->
    <!--Alte Försterei 1 12555 Berlin</p>-->
    <!--<p><span class="cyan"><strong>Phone:</strong></span> <br>-->
    <!--+ 49 30 123 456 88<br>-->
    <!--</p>-->
    <!--<p><span class="cyan"><strong>Email:</strong></span> <br>-->
    <!--info@webpräsenz.de<br>-->
    <!--</p>-->
    <!--<a href="impressum.html">Impressum</a>-->
    <!--</section>-->
    <!-- Ende field 1 -->
  </section>
  <p class="copyright">2018 Copyright &copy;Overlays Reloaded All rights reserved. </p>
</section>
<!-- Ende Footer -->

<script src="scripts/jquery-3.1.1.min.js"></script>
<!--
<script src="scripts/particles.js"></script>
<script src="scripts/app.js"></script>
-->

</body>
</html>
